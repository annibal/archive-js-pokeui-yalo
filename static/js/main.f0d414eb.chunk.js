(this["webpackJsonppokeui-yalo"]=this["webpackJsonppokeui-yalo"]||[]).push([[0],{41:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),o=n(31),s=n.n(o),i=(n(41),n(10)),l=n(3),u=n(6),j=n.n(u),d=n(12),p=n(5),m=n(32);var b=function(e){var t=e.children;return Object(c.jsx)("div",{className:"card",children:t})};var f=function(e){var t=e.children,n=e.id,a=e.title;return Object(c.jsxs)("div",{className:n,children:[Object(c.jsx)(m.a,{children:Object(c.jsxs)("title",{children:[a," - Poke UI for Yalo"]})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(i.b,{to:"/",children:Object(c.jsxs)(b,{children:[Object(c.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/International_Pok%C3%A9mon_logo.svg/1200px-International_Pok%C3%A9mon_logo.svg.png",alt:"pokemon",className:"header-img header-img-left"}),Object(c.jsx)("img",{src:"https://j9w6s3b3.stackpathcdn.com/wp-content/uploads/2019/07/yalo.jpg",alt:"yalo",className:"header-img header-img-right"})]})}),t]})]})},h=n(14),O=n(15),v=function(e){return{fromStore:function(){var t=localStorage.getItem(e);if(null!=t)try{return JSON.parse(t)}catch(n){}},toStore:function(t){localStorage.setItem(e,JSON.stringify(t))}}},x=v("pokeyalo-favs"),k=x.fromStore,g=x.toStore,N=function(e){return g(e(k()||{}))},y=function(e){return!!(k()||{})[e]},S=function(e){y(e)?function(e){N((function(t){return Object.keys(t).filter((function(t){return t!=e})).reduce((function(e,t){return Object(O.a)(Object(O.a)({},e),{},Object(h.a)({},t,!0))}),{})}))}(e):function(e){N((function(t){return t[e]=!0,t}))}(e)},w=function(){return Object.keys(k()||{})},_=n(17),I=n.n(_),L=v("pokeyalo"),E=L.fromStore,C=L.toStore,M=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n,c,a,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=E())){e.next=12;break}return console.log("populating pokeStore"),e.next=5,I.a.get("https://pokeapi.co/api/v2/pokemon?limit=1");case 5:return r=e.sent,o=(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.count)||2e3,e.next=9,I.a.get("https://pokeapi.co/api/v2/pokemon?limit=".concat(o));case 9:t=e.sent,t=null===(c=t)||void 0===c||null===(a=c.data)||void 0===a?void 0:a.results.map((function(e){return{name:e.name,url:e.url,id:e.url.replace("https://pokeapi.co/api/v2/pokemon/","").replace("/","")}})).reduce((function(e,t){return Object(O.a)(Object(O.a)({},e),{},Object(h.a)({},t.id,t))}),{}),C(t);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:if(c=e.sent,null===(n=c[t])||void 0===n?void 0:n.cached){e.next=20;break}return console.log("memoizing data for pokemon #"+t),e.prev=6,e.next=9,I.a.get("https://pokeapi.co/api/v2/pokemon/".concat(t));case 9:a=e.sent,c[t]=null===a||void 0===a?void 0:a.data,c[t].exists=!0,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.log("failed");case 17:c[t].cached=!0,console.log({newStore:c}),C(c);case 20:return e.abrupt("return",c[t]);case 21:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,c,a,r,o,s=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:0,c=s.length>2&&void 0!==s[2]?s[2]:10,e.next=4,M();case 4:a=e.sent,console.log({pokeStore:a}),r=Object.values(a).filter((function(e){return null!=e})).filter((function(e){return e.name.includes(t)||null==t})).map((function(e){return e.id})).slice(n*c,(n+1)*c),console.log({foundPokemons:r}),o=0;case 9:if(!(o<r.length)){e.next=16;break}return e.next=12,F(r[o]);case 12:r[o]=e.sent;case 13:o++,e.next=9;break;case 16:return e.abrupt("return",r.filter((function(e){return e.exists})));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var T=function(e){var t=e.id,n=e.onChangeFavorite,r=void 0===n?function(){}:n,o=Object(a.useState)(!1),s=Object(p.a)(o,2),i=s[0],l=s[1];return Object(a.useEffect)((function(){y(t)&&l(!0)}),[t]),Object(c.jsx)("span",{className:"pokemon-favorite pokemon-favorite-".concat(i?"true":"false"),onClick:function(e){S(t);var n=!i;l(n),r(n),e.preventDefault()},children:i?"\u2605":"\u2606"})},V={hp:"hp",attack:"atk",defense:"def","special-attack":"sp","special-defense":"sd",speed:"spd"};var z=function(e){var t=e.pokemon;return Object(c.jsxs)(i.b,{to:"/pokemon/".concat(t.id),className:"pokemon-card",children:[Object(c.jsx)("div",{className:"image-row",children:Object(c.jsx)("img",{src:t.sprites.front_default,alt:"pkmn",className:"pokemon-image"})}),Object(c.jsxs)("div",{className:"details-row",children:[Object(c.jsxs)("p",{className:"pokemon-name-wrapper",children:[Object(c.jsx)("span",{className:"pokemon-name",children:t.name}),Object(c.jsx)("span",{className:"pokemon-number",children:t.id}),Object(c.jsx)(T,{id:t.id})]}),Object(c.jsx)("p",{className:"pokemon-types",children:t.types.map((function(e){return Object(c.jsx)("span",{className:"pokemon-type",children:e.type.name})}))})]}),Object(c.jsx)("div",{className:"stats-row",children:t.stats.map((function(e){return Object(c.jsxs)("span",{className:"pokemon-stat",children:[Object(c.jsxs)("span",{className:"pokemon-stat-name",children:[V[e.stat.name],":"]}),Object(c.jsx)("span",{className:"pokemon-stat-value",children:e.base_stat})]})}))})]})};var B=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!0),s=Object(p.a)(o,2),i=s[0],l=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w(),n=[],c=0;case 3:if(!(c<t.length)){e.next=12;break}return e.t0=n,e.next=7,A(t[c]);case 7:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 9:c++,e.next=3;break;case 12:r(n),l(!1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.jsx)(f,{id:"favorites",title:"Favorites",children:Object(c.jsxs)(b,{children:[Object(c.jsx)("span",{class:"my-favs",children:"My Favorites"}),i&&Object(c.jsx)("div",{className:"not-ready",children:"Loading..."}),!i&&0===n.length&&Object(c.jsx)("div",{className:"not-ready",children:"No favorite added"}),!i&&n.length>0&&n.map((function(e){return Object(c.jsx)(z,{pokemon:e},e.id+"-"+e.name)}))]})})};var D=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),s=Object(p.a)(o,2),l=s[0],u=s[1],j=Object(a.useState)(10),d=Object(p.a)(j,2),m=d[0],h=d[1],O=Object(a.useState)(!0),v=Object(p.a)(O,2),x=v[0],k=v[1],g=Object(a.useState)(!1),N=Object(p.a)(g,2),y=N[0],S=N[1];Object(a.useEffect)((function(){J().then((function(e){r(e),k(!1)}))}),[]);var w=function(e,t){var n=Object(a.useState)(e),c=Object(p.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(l,500);return Object(a.useEffect)((function(){w&&w.length>2?(k(!0),P(w).then((function(e){k(!1),r(e),h(10)}))):r([])}),[w]),Object(c.jsx)(f,{id:"home",title:"Home",children:Object(c.jsxs)(b,{children:[Object(c.jsxs)("div",{className:"home-links",children:[Object(c.jsx)(i.b,{to:"favorites",children:"Favorites"}),Object(c.jsx)(i.b,{to:"pokemon/".concat(Math.floor(150*Math.random())),children:"I'm lucky"})]}),Object(c.jsx)("input",{type:"search",className:"poke-search",placeholder:"Search for pokemon",onChange:function(e){return u(e.target.value)}}),x&&Object(c.jsx)("div",{className:"not-ready",children:"Loading..."}),!x&&0===n.length&&Object(c.jsx)("div",{className:"not-ready",children:"No pokemon found"}),!x&&n.length>0&&n.map((function(e){return Object(c.jsx)(z,{pokemon:e},e.id+"-"+e.name)})),!x&&n.length>0&&w.length>2&&Object(c.jsx)("div",{className:"load-more-container",children:y?Object(c.jsx)("div",{className:"not-ready",children:"Loading more..."}):Object(c.jsx)("button",{className:"load-more",onClick:function(){S(!0);var e=m+10;h(e),P(w,0,e).then((function(e){S(!1),r(e)}))},children:"Load more"})})]})})};var G=function(){return Object(c.jsx)(f,{id:"not-found",title:"Not Found",children:Object(c.jsx)(b,{children:Object(c.jsxs)("center",{children:["404 Page not found",Object(c.jsx)("br",{}),Object(c.jsx)(i.b,{to:"/",children:"Go home"})]})})})};var H=function(){var e=Object(l.f)().pokemonId,t=Object(a.useState)(),n=Object(p.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){A(e).then((function(e){return o(e)}))}),[e]),Object(c.jsx)(f,{id:"pokemon-page",title:"#".concat(e," poke page"),children:r&&Object(c.jsxs)(b,{children:[Object(c.jsx)(z,{pokemon:r}),Object(c.jsxs)("div",{className:"pokemon-moves",children:[Object(c.jsx)("span",{className:"pokemon-moves-title",children:"Moves:"}),r.moves.map((function(e){return Object(c.jsxs)("div",{className:"pokemon-move",children:[Object(c.jsx)("span",{className:"pokemon-move-name",children:e.move.name}),Object(c.jsx)("div",{className:"pokemon-move-manners-col",children:e.version_group_details.map((function(e){return Object(c.jsxs)("div",{className:"pokemon-move-manners",children:[Object(c.jsxs)("span",{className:"pokemon-manner-version",children:[Object(c.jsx)("b",{children:"Version:"})," ",e.version_group.name]}),Object(c.jsxs)("span",{className:"pokemon-manner-method",children:[Object(c.jsx)("b",{children:"Learning Method:"})," ",e.move_learn_method.name]}),Object(c.jsxs)("span",{className:"pokemon-manner-level",children:[Object(c.jsx)("b",{children:"Learned LVL:"})," ",e.level_learned_at]})]})}))})]})}))]})]})})};var U=function(){return Object(c.jsx)(i.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/favorites",children:Object(c.jsx)(B,{})}),Object(c.jsx)(l.a,{exact:!0,path:"/pokemon/:pokemonId",children:Object(c.jsx)(H,{})}),Object(c.jsx)(l.a,{exact:!0,path:"/",children:Object(c.jsx)(D,{})}),Object(c.jsx)(l.a,{path:"*",children:Object(c.jsx)(G,{})})]})})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(U,{})}),document.getElementById("ref_pokeuiroot"))}},[[65,1,2]]]);
//# sourceMappingURL=main.f0d414eb.chunk.js.map